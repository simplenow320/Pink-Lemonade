"use strict";(self.webpackChunkgrantflow_client=self.webpackChunkgrantflow_client||[]).push([[373],{280:(e,t,s)=>{s.d(t,{A:()=>n});s(5563);var r=s(6779);const n=e=>{let{currentStep:t=1,totalSteps:s=5,stepLabels:n=[]}=e;const a=n.length?n:["Basic Info","Programs","Capacity","Grant History","AI Learning"];return(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-auto py-6",children:[(0,r.jsxs)("div",{className:"relative mb-8",children:[(0,r.jsx)("div",{className:"absolute top-4 left-0 w-full h-0.5 bg-gray-200"}),(0,r.jsx)("div",{className:"absolute top-4 left-0 h-0.5 bg-gradient-to-r from-pink-400 to-pink-600 transition-all duration-500 ease-out",style:{width:"".concat((t-1)/(s-1)*100,"%")}}),(0,r.jsx)("div",{className:"relative flex justify-between",children:Array.from({length:s},(e,s)=>{const n=s+1,i=n<t,l=n===t;return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"\n                    w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium transition-all duration-300\n                    ".concat(i?"bg-pink-500 border-pink-500 text-white animate-pulse":l?"bg-white border-pink-500 text-pink-500 shadow-lg scale-110":"bg-gray-50 border-gray-300 text-gray-400","\n                  "),children:i?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n}),(0,r.jsxs)("div",{className:"mt-2 text-center",children:[(0,r.jsx)("div",{className:"\n                      text-xs font-medium transition-colors duration-300\n                      ".concat(l?"text-pink-600":i?"text-gray-700":"text-gray-400","\n                    "),children:a[s]}),l&&(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Current Step"})]})]},n)})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Step ",t," of ",s]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-pink-400 to-pink-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(t/s*100,"%")}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t/s*100),"% Complete"]})]})]})}},2203:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(5563),n=s(6779);const a=e=>{let{completionPercentage:t=0,completedSections:s=[],totalSections:a=5}=e;const[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(t),d=[{id:"started",name:"Getting Started",description:"You began your profile setup",icon:"\ud83d\ude80",threshold:10,color:"pink"},{id:"half-way",name:"Making Progress",description:"You are halfway done with your profile",icon:"\u2b50",threshold:50,color:"pink"},{id:"almost-there",name:"Almost Ready",description:"Your profile is nearly complete",icon:"\ud83c\udfaf",threshold:80,color:"pink"},{id:"complete",name:"Profile Master",description:"Your profile is 100% complete!",icon:"\ud83c\udfc6",threshold:100,color:"pink"}];(0,r.useEffect)(()=>{t>o&&(l(!0),setTimeout(()=>l(!1),2e3)),c(t)},[t,o]);const m=d.filter(e=>t>=e.threshold),x=d.find(e=>t<e.threshold);return(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-pink-100",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Progress"}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:[s.length," of ",a," sections"]})]}),(0,n.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,n.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),(0,n.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"url(#gradient)",strokeWidth:"8",fill:"transparent",strokeDasharray:"".concat(2*Math.PI*45),strokeDashoffset:"".concat(2*Math.PI*45*(1-t/100)),className:"transition-all duration-1000 ease-out",strokeLinecap:"round"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#f472b6"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#ec4899"})]})})]}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold ".concat(i?"animate-bounce":""," text-gray-900"),children:[t,"%"]}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:"Complete"})]})})]})}),i&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-pink-50 border border-pink-200 rounded-lg animate-fadeDown",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-pink-600 animate-bounce",children:"\ud83c\udf89"}),(0,n.jsx)("span",{className:"text-sm font-medium text-pink-800",children:"Great job! Keep going!"})]})}),m.length>0&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Earned Badges"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map((e,t)=>(0,n.jsx)("div",{className:"\n                  p-3 rounded-lg border-2 border-pink-200 bg-pink-50 transition-all duration-300\n                  ".concat(i&&t===m.length-1?"animate-pulse":"","\n                "),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,n.jsx)("div",{className:"text-xs font-medium text-pink-800",children:e.name})]})},e.id))})]}),x&&t<100&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Next Reward"}),(0,n.jsx)("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"text-2xl opacity-50",children:x.icon}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:x.name}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:x.description}),(0,n.jsxs)("div",{className:"text-xs text-pink-600 mt-1",children:[x.threshold-t,"% to go"]})]})]})})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[t<100&&(0,n.jsx)("button",{className:"w-full px-4 py-2 bg-pink-500 text-white rounded-lg font-medium hover:bg-pink-600 transition-colors duration-200 text-sm",children:"Continue Profile Setup"}),t>=50&&(0,n.jsx)("button",{className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors duration-200 text-sm",children:"Find Grant Matches"})]}),(0,n.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"\ud83d\udca1 Tip:"}),t<50?" Complete more sections to unlock better grant matches.":t<100?" Finish your profile for the most accurate recommendations.":" Your complete profile helps us find the best grants for you!"]})})]})}},9288:(e,t,s)=>{s.d(t,{Ay:()=>i});var r=s(5563),n=s(6779);const a=e=>{let{error:t,type:s="validation",field:a="",solution:i="",onRetry:l=null}=e;const[o,c]=(0,r.useState)(!1),d={validation:{icon:"\u26a0\ufe0f",color:"yellow",title:"Input Needs Fixing"},network:{icon:"\ud83d\udce1",color:"blue",title:"Connection Problem"},permission:{icon:"\ud83d\udd12",color:"red",title:"Access Denied"},server:{icon:"\ud83d\udd27",color:"orange",title:"System Issue"},format:{icon:"\ud83d\udcdd",color:"purple",title:"Format Problem"}},m=d[s]||d.validation;return(0,n.jsxs)("div",{className:"bg-white border-l-4 border-pink-400 rounded-lg shadow-sm p-4 animate-fadeDown",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-lg",children:m.icon})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:m.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:(()=>{switch(s){case"validation":return"The ".concat(a||"information"," you entered doesn't match what we need.");case"network":return"We cannot connect to our servers right now.";case"permission":return"You do not have permission to do this action.";case"server":return"Our system is having trouble. This is not your fault.";case"format":return"The ".concat(a||"format"," is not correct.");default:return"Something went wrong."}})()}),o&&t&&(0,n.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Technical Details:"}),(0,n.jsx)("div",{className:"text-xs text-gray-700 font-mono",children:t})]})]}),(0,n.jsx)("button",{onClick:()=>c(!o),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,n.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 ".concat(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,n.jsx)("div",{className:"mt-4",children:(()=>{switch(s){case"validation":return(0,n.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.96-.833-2.732 0L3.732 19c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-yellow-800",children:"Check Your Input"}),(0,n.jsx)("div",{className:"text-xs text-yellow-700 mt-1",children:a&&'Look at the "'.concat(a,'" field again')})]})]});case"network":return(0,n.jsx)("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-blue-600",children:"\ud83d\udcbb"})}),(0,n.jsx)("div",{className:"text-blue-600",children:"\u2192"}),(0,n.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center animate-pulse",children:(0,n.jsx)("span",{className:"text-red-600",children:"\u274c"})}),(0,n.jsx)("div",{className:"text-blue-600",children:"\u2192"}),(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-gray-600",children:"\ud83c\udfe2"})})]})});case"format":return(0,n.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-xs text-purple-700 font-medium mb-2",children:"What You Entered"}),(0,n.jsx)("div",{className:"p-2 bg-red-100 rounded border border-red-200 text-red-700 text-sm",children:"\u274c Wrong format"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-xs text-purple-700 font-medium mb-2",children:"What We Need"}),(0,n.jsx)("div",{className:"p-2 bg-green-100 rounded border border-green-200 text-green-700 text-sm",children:"\u2705 Right format"})]})]})});default:return(0,n.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,n.jsxs)("div",{className:"text-center text-gray-600",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:m.icon}),(0,n.jsx)("div",{className:"text-sm",children:m.title})]})})}})()}),i&&(0,n.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:(0,n.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-green-800",children:"How to Fix This"}),(0,n.jsx)("div",{className:"text-sm text-green-700 mt-1",children:i})]})]})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[l&&(0,n.jsx)("button",{onClick:l,className:"px-4 py-2 bg-pink-500 text-white rounded-lg font-medium hover:bg-pink-600 transition-colors duration-200 text-sm",children:"Try Again"}),"validation"===s&&(0,n.jsx)("button",{onClick:()=>c(!o),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors duration-200 text-sm",children:"Need Help?"})]})]})},i=a},9373:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var r=s(7405),n=s(5563),a=s(9644);const i=["title","titleId"];function l(e,t){let{title:s,titleId:r}=e,l=(0,a.A)(e,i);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const o=n.forwardRef(l),c=["title","titleId"];function d(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,c);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const m=n.forwardRef(d),x=["title","titleId"];function h(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,x);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const u=n.forwardRef(h),g=["title","titleId"];function p(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,g);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const f=n.forwardRef(p),b=["title","titleId"];function j(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,b);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const v=n.forwardRef(j),y=["title","titleId"];function N(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,y);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const w=n.forwardRef(N),k=["title","titleId"];function _(e,t){let{title:s,titleId:r}=e,i=(0,a.A)(e,k);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const A=n.forwardRef(_);var C=s(280),E=s(2203),L=(s(9288),s(6779));const M=()=>{const[e,t]=(0,n.useState)({first_name:"",last_name:"",email:"",phone:"",job_title:"",org_name:"",timezone:"America/New_York",notification_preferences:{email_notifications:!0,grant_alerts:!0,weekly_digest:!0,deadline_reminders:!0}}),[s,a]=(0,n.useState)(!0),[i,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)({type:"",text:""}),[x,h]=(0,n.useState)({}),[g,p]=(0,n.useState)(0);(0,n.useEffect)(()=>{b()},[]),(0,n.useEffect)(()=>{j()},[e]);const b=async()=>{try{const e=await fetch("/api/profile/get",{credentials:"include"});if(e.ok){const s=await e.json();s.profile&&t(e=>(0,r.A)((0,r.A)((0,r.A)({},e),s.profile),{},{notification_preferences:(0,r.A)((0,r.A)({},e.notification_preferences),s.profile.notification_preferences)}))}else 401===e.status&&(window.location.href="/")}catch(e){console.error("Error fetching profile:",e),d({type:"error",text:"Failed to load profile"})}finally{a(!1)}},j=()=>{const t=["first_name","last_name","email","phone","job_title","org_name"],s=t.filter(t=>e[t]&&""!==e[t].trim()),r=Math.round(s.length/t.length*100);p(r)},y=(e,s)=>{t(t=>(0,r.A)((0,r.A)({},t),{},{[e]:s})),x[e]&&h(t=>(0,r.A)((0,r.A)({},t),{},{[e]:null}))};if(s)return(0,L.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,L.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})});const N=[];return e.first_name&&e.last_name&&N.push("personal_info"),e.email&&e.phone&&N.push("contact_info"),e.job_title&&e.org_name&&N.push("work_info"),g>=100&&N.push("profile_complete"),(0,L.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,L.jsxs)("div",{className:"mb-8",children:[(0,L.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),(0,L.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your personal information and preferences"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,L.jsx)("div",{className:"lg:col-span-2",children:(0,L.jsx)(C.A,{currentStep:Math.ceil(g/25),totalSteps:4,percentage:g,title:"Profile Completion"})}),(0,L.jsx)("div",{children:(0,L.jsx)(E.A,{completedSections:N,totalXP:100*N.length})})]}),c.text&&(0,L.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center ".concat("success"===c.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:["success"===c.type?(0,L.jsx)(o,{className:"h-5 w-5 mr-2"}):(0,L.jsx)(m,{className:"h-5 w-5 mr-2"}),(0,L.jsx)("span",{children:c.text})]}),(0,L.jsxs)("div",{className:"bg-white shadow-lg rounded-lg",children:[(0,L.jsxs)("div",{className:"p-6 space-y-8",children:[(0,L.jsxs)("div",{children:[(0,L.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,L.jsx)(u,{className:"h-5 w-5 mr-2 text-pink-500"}),"Personal Information"]}),(0,L.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,L.jsx)("input",{type:"text",value:e.first_name,onChange:e=>y("first_name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 ".concat(x.first_name?"border-red-300":"border-gray-300"),placeholder:"John"}),x.first_name&&(0,L.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.first_name})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,L.jsx)("input",{type:"text",value:e.last_name,onChange:e=>y("last_name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 ".concat(x.last_name?"border-red-300":"border-gray-300"),placeholder:"Doe"}),x.last_name&&(0,L.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.last_name})]})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,L.jsx)(f,{className:"h-5 w-5 mr-2 text-pink-500"}),"Contact Information"]}),(0,L.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,L.jsx)("input",{type:"email",value:e.email,onChange:e=>y("email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 ".concat(x.email?"border-red-300":"border-gray-300"),placeholder:"john@example.com"}),x.email&&(0,L.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,L.jsx)(v,{className:"h-4 w-4 mr-1"}),"Phone Number"]}),(0,L.jsx)("input",{type:"tel",value:e.phone,onChange:e=>y("phone",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 ".concat(x.phone?"border-red-300":"border-gray-300"),placeholder:"(555) 123-4567"}),x.phone&&(0,L.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.phone})]})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,L.jsx)(w,{className:"h-5 w-5 mr-2 text-pink-500"}),"Work Information"]}),(0,L.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,L.jsx)(w,{className:"h-4 w-4 mr-1"}),"Job Title"]}),(0,L.jsx)("input",{type:"text",value:e.job_title,onChange:e=>y("job_title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Grant Manager"})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,L.jsx)(A,{className:"h-4 w-4 mr-1"}),"Organization"]}),(0,L.jsx)("input",{type:"text",value:e.org_name,onChange:e=>y("org_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Urban Hope Foundation"})]})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),(0,L.jsx)("div",{className:"space-y-3",children:[{key:"email_notifications",label:"Email Notifications",desc:"Receive updates via email"},{key:"grant_alerts",label:"Grant Alerts",desc:"Get notified about new matching grants"},{key:"weekly_digest",label:"Weekly Digest",desc:"Receive a weekly summary of activity"},{key:"deadline_reminders",label:"Deadline Reminders",desc:"Get reminded of upcoming grant deadlines"}].map(s=>(0,L.jsxs)("label",{className:"flex items-start",children:[(0,L.jsx)("input",{type:"checkbox",checked:e.notification_preferences[s.key],onChange:e=>((e,s)=>{t(t=>(0,r.A)((0,r.A)({},t),{},{notification_preferences:(0,r.A)((0,r.A)({},t.notification_preferences),{},{[e]:s})}))})(s.key,e.target.checked),className:"mt-1 h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded"}),(0,L.jsxs)("div",{className:"ml-3",children:[(0,L.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s.label}),(0,L.jsx)("p",{className:"text-xs text-gray-500",children:s.desc})]})]},s.key))})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,L.jsxs)("select",{value:e.timezone,onChange:e=>y("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[(0,L.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,L.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,L.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,L.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]}),(0,L.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[(0,L.jsx)("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",disabled:i,children:"Cancel"}),(0,L.jsx)("button",{onClick:async()=>{if((()=>{var t,s,r;const n={};return null!==(t=e.first_name)&&void 0!==t&&t.trim()||(n.first_name="First name is required"),null!==(s=e.last_name)&&void 0!==s&&s.trim()||(n.last_name="Last name is required"),null!==(r=e.email)&&void 0!==r&&r.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(n.email="Please enter a valid email address"):n.email="Email is required",e.phone&&!/^[\d\s\-\(\)\+]+$/.test(e.phone)&&(n.phone="Please enter a valid phone number"),h(n),0===Object.keys(n).length})()){l(!0),d({type:"",text:""});try{const s=await fetch("/api/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),n=await s.json();s.ok?(d({type:"success",text:"Profile updated successfully!"}),n.profile&&t(e=>(0,r.A)((0,r.A)({},e),n.profile))):d({type:"error",text:n.error||"Failed to update profile"})}catch(s){console.error("Error saving profile:",s),d({type:"error",text:"Failed to save profile. Please try again."})}finally{l(!1)}}else d({type:"error",text:"Please fix the errors below"})},disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-pink-600 border border-transparent rounded-lg hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})]})]})]})}}}]);
//# sourceMappingURL=373.7e4b5a87.chunk.js.map
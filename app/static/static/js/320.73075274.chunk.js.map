{"version":3,"file":"static/js/320.73075274.chunk.js","mappings":"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","sources":["components/Toast.js","pages/Grants.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst Toast = ({ message, type = 'success', onClose, duration = 5000 }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const getToastStyles = () => {\n    switch (type) {\n      case 'success':\n        return 'bg-green-50 text-green-800 border-green-200';\n      case 'error':\n        return 'bg-red-50 text-red-800 border-red-200';\n      case 'info':\n        return 'bg-blue-50 text-blue-800 border-blue-200';\n      default:\n        return 'bg-gray-50 text-gray-800 border-gray-200';\n    }\n  };\n\n  return (\n    <div className={`fixed top-4 right-4 p-4 rounded-lg border shadow-lg z-50 max-w-md ${getToastStyles()}`}>\n      <div className=\"flex items-center justify-between\">\n        <p className=\"font-medium\">{message}</p>\n        <button\n          onClick={onClose}\n          className=\"ml-4 text-sm font-medium hover:opacity-75\"\n        >\n          Ã—\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Toast;","import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport Toast from '../components/Toast';\nimport api from '../utils/api';\n\nconst Grants = () => {\n  const navigate = useNavigate();\n  const [opportunities, setOpportunities] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [toast, setToast] = useState(null);\n  const [runningNow, setRunningNow] = useState(false);\n  const [showProfilePrompt, setShowProfilePrompt] = useState(false);\n  \n  // Get organization ID (hardcoded for now, should come from context/auth)\n  const orgId = 1; // TODO: Get from user context\n\n  // Fetch opportunities\n  const fetchOpportunities = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get(`/opportunities?orgId=${orgId}`);\n      setOpportunities(response.data.opportunities || []);\n    } catch (error) {\n      console.error('Error fetching opportunities:', error);\n      setToast({\n        message: 'Failed to load opportunities',\n        type: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Run scraper now\n  const handleRunNow = async () => {\n    setRunningNow(true);\n    try {\n      const payload = {\n        orgId: orgId\n      };\n      \n      if (searchQuery) {\n        payload.query = searchQuery;\n      }\n\n      const response = await api.post('/scrape/run-now', payload);\n      const { upserted, mode } = response.data;\n      \n      // Show success toast\n      setToast({\n        message: `Upserted ${upserted} opportunities in ${mode} mode`,\n        type: 'success'\n      });\n      \n      // Refresh opportunities list\n      await fetchOpportunities();\n      \n    } catch (error) {\n      console.error('Error running scraper:', error);\n      setToast({\n        message: 'Failed to run scraper. Please try again.',\n        type: 'error'\n      });\n    } finally {\n      setRunningNow(false);\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    fetchOpportunities();\n  }, []);\n\n  // Check if user should see profile completion prompt\n  useEffect(() => {\n    const checkUserProfile = async () => {\n      try {\n        const response = await fetch('/api/organization/get', {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          // Show prompt if organization profile is incomplete\n          const org = data.organization;\n          const isIncomplete = !org?.mission || !org?.primary_focus_areas || \n                              org?.primary_focus_areas?.length === 0;\n          setShowProfilePrompt(isIncomplete && opportunities.length > 0);\n        }\n      } catch (error) {\n        console.error('Error checking profile:', error);\n      }\n    };\n    \n    if (opportunities.length > 0) {\n      checkUserProfile();\n    }\n  }, [opportunities]);\n\n  // Show welcome state for first-time users\n  if (!loading && opportunities.length === 0 && !runningNow) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-pink-50 to-white\">\n        <div className=\"max-w-4xl mx-auto px-4 py-16\">\n          {/* Welcome Header */}\n          <div className=\"text-center mb-12\">\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n              Discover Your Perfect Grants\n            </h1>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              We'll search thousands of funding opportunities tailored specifically to your organization's mission and needs\n            </p>\n          </div>\n\n          {/* Action Card */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8 mb-8\">\n            <div className=\"text-center\">\n              {/* Icon */}\n              <div className=\"w-20 h-20 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <svg className=\"w-10 h-10 text-pink-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </div>\n              \n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-3\">\n                Ready to Find Funding?\n              </h2>\n              <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\n                Click the button below to instantly discover grant opportunities matched to your organization\n              </p>\n\n              {/* Search Input (Optional) */}\n              <div className=\"max-w-md mx-auto mb-6\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Search for specific grants (optional)\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n                />\n              </div>\n\n              {/* CTA Button */}\n              <button\n                onClick={handleRunNow}\n                className=\"px-8 py-4 bg-pink-500 text-white text-lg font-semibold rounded-lg hover:bg-pink-600 transition-all transform hover:scale-105 shadow-lg\"\n              >\n                Discover Grants Now\n              </button>\n            </div>\n          </div>\n\n          {/* Features */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"text-center\">\n              <div className=\"text-pink-500 text-3xl mb-2\">ðŸŽ¯</div>\n              <h3 className=\"font-semibold text-gray-900 mb-1\">Smart Matching</h3>\n              <p className=\"text-sm text-gray-600\">AI-powered matching based on your organization profile</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-pink-500 text-3xl mb-2\">ðŸ”„</div>\n              <h3 className=\"font-semibold text-gray-900 mb-1\">Real-Time Updates</h3>\n              <p className=\"text-sm text-gray-600\">Fresh opportunities from multiple trusted sources</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-pink-500 text-3xl mb-2\">ðŸ“Š</div>\n              <h3 className=\"font-semibold text-gray-900 mb-1\">Track & Manage</h3>\n              <p className=\"text-sm text-gray-600\">Save favorites and track application progress</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Regular view when grants are loaded\n  return (\n    <div className=\"p-6\">\n      {/* Profile completion prompt for new users */}\n      {showProfilePrompt && (\n        <div className=\"mb-6 bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-6\">\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-pink-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"ml-4 flex-1\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Improve Your Grant Matches!</h3>\n              <p className=\"mt-1 text-gray-600\">\n                Complete your organization profile to get better grant recommendations tailored to your mission and focus areas.\n              </p>\n              <div className=\"mt-4 flex items-center space-x-3\">\n                <button\n                  onClick={() => navigate('/organization')}\n                  className=\"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors font-medium\"\n                >\n                  Complete Profile\n                </button>\n                <button\n                  onClick={() => setShowProfilePrompt(false)}\n                  className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n                >\n                  Later\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header with Run Now button */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Grant Opportunities</h1>\n          <p className=\"text-gray-600\">Discover and manage funding opportunities</p>\n        </div>\n        \n        <button\n          onClick={handleRunNow}\n          disabled={runningNow}\n          className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            runningNow \n              ? 'bg-gray-300 text-gray-500 cursor-not-allowed' \n              : 'bg-pink-500 text-white hover:bg-pink-600'\n          }`}\n        >\n          {runningNow ? 'Discovering...' : 'Refresh Grants'}\n        </button>\n      </div>\n\n      {/* Search bar */}\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for specific grants (optional)\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n        />\n      </div>\n\n      {/* Loading state */}\n      {(loading || runningNow) && (\n        <div className=\"bg-white shadow rounded-lg p-12\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600 text-lg font-medium\">\n              {runningNow ? 'Discovering new grant opportunities...' : 'Loading opportunities...'}\n            </p>\n            <p className=\"text-gray-500 text-sm mt-2\">This may take a few moments</p>\n          </div>\n        </div>\n      )}\n\n      {/* Opportunities list */}\n      {!loading && !runningNow && (\n        <div className=\"bg-white shadow rounded-lg\">\n          {opportunities.length > 0 ? (\n            <div className=\"divide-y divide-gray-200\">\n              {opportunities.map((grant) => (\n                <div key={grant.id} className=\"p-4 hover:bg-gray-50\">\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{grant.title}</h3>\n                      <p className=\"text-sm text-gray-600 mt-1\">{grant.funder}</p>\n                      {grant.deadline && (\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Deadline: {new Date(grant.deadline).toLocaleDateString()}\n                        </p>\n                      )}\n                      {grant.amount_min && (\n                        <p className=\"text-sm text-gray-500\">\n                          Amount: ${grant.amount_min.toLocaleString()}\n                          {grant.amount_max && ` - $${grant.amount_max.toLocaleString()}`}\n                        </p>\n                      )}\n                    </div>\n                    {grant.match_score && (\n                      <div className=\"ml-4\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                          grant.match_score >= 4 ? 'bg-green-100 text-green-800' :\n                          grant.match_score >= 3 ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-gray-100 text-gray-800'\n                        }`}>\n                          Score: {grant.match_score}/5\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex gap-3 mt-2\">\n                    <Link \n                      to={`/grant/${grant.id}`}\n                      className=\"text-sm text-pink-600 hover:text-pink-700\"\n                    >\n                      Analyze Grant â†’\n                    </Link>\n                    {grant.link && (\n                      <a \n                        href={grant.link} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"text-sm text-gray-600 hover:text-gray-700\"\n                      >\n                        Official Page â†—\n                      </a>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"p-8 text-center\">\n              <p className=\"text-gray-500 mb-4\">No opportunities found</p>\n              <p className=\"text-sm text-gray-400\">\n                Try adjusting your search or click \"Refresh Grants\" to discover new opportunities\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Toast notification */}\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => setToast(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Grants;"],"names":["_ref","message","type","onClose","duration","useEffect","timer","setTimeout","clearTimeout","_jsx","className","concat","getToastStyles","children","_jsxs","onClick","Grants","navigate","useNavigate","opportunities","setOpportunities","useState","loading","setLoading","searchQuery","setSearchQuery","toast","setToast","runningNow","setRunningNow","showProfilePrompt","setShowProfilePrompt","fetchOpportunities","async","response","api","get","data","error","console","handleRunNow","payload","orgId","query","post","upserted","mode","length","fetch","credentials","ok","_org$primary_focus_ar","org","json","organization","isIncomplete","mission","primary_focus_areas","checkUserProfile","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","placeholder","value","onChange","e","target","map","grant","title","funder","deadline","Date","toLocaleDateString","amount_min","toLocaleString","amount_max","match_score","Link","to","id","link","href","rel","Toast"],"sourceRoot":""}